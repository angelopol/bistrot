<html>

<head>
  <title>Mantenimiento</title>
  <link rel="stylesheet" href="../mantenimientos/style.css">
  <link rel="stylesheet" href="../mantenimientos/styles/side.css">
  <link rel="stylesheet" href="../mantenimientos/styles/styles.css">
  <link rel="stylesheet" type="text/css" href="../mantenimientos/styles/styles2.css">
  <link rel="shortcut icon" href="mantenimientos/icon.jpeg" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>

  <!-- ESTE ES EL HEADER (BARRA VERDE EN LA PARTE SUPERIOR)-->

  <header>
    <h1 id="title">BISTROT CHEZ RÃ‰MY</h1>
    <select id="title-combo">
      <option selected>Gerente</option>
      <option>Cerrar Sesion</option>
    </select>
  </header>




  <!-- CONTENEDOR DE TODO EL RESTO DEL SITIO WEB-->

  <div class="content-wrapper">
    <div id="sidebar">
      <div class="inicio">
        <a class="side" href="">
          <img src="../mantenimientos/static/resources/iconos_barra/inicio-green.png" class="side-foto">
          <p class="side-option">Inicio</p>
        </a>
      </div>
      <div class="ventas">
        <a class="side" href="">
          <img class="side-foto" src="../mantenimientos/static/resources/iconos_barra/ventas-green.png">
          <p class="side-option">Ventas/Salon</p>
        </a>
      </div>
      <div class="compras">
        <a class="side" href="">
        <img class="side-foto" src="../mantenimientos/static/resources/iconos_barra/compras-green.png">
        <p class="side-option">Compras</p>
      </a>
      </div>
      <div class="rrhh">
        <a class="side" href="">
        <img class="side-foto" src="../mantenimientos/static/resources/iconos_barra/person-green.png">
        <p class="side-option">RRHH</p>
      </a>
      </div>
      <div class="inventario">
        <a class="side" href="">
        <img class="side-foto" src="../mantenimientos/static/resources/iconos_barra/inventario-green.png">
        <p class="side-option">Inventario</p>
      </a>
      </div>
      <div class="mantent">
        <a class="side" href="">
        <img class="side-foto" src="../mantenimientos/static/resources/iconos_barra/mantenimiento-green.png">
        <p class="side-option">Mantenimiento</p>
      </a>
      </div>
      <div class="cocina">
        <a class="side" href="">
        <img class="side-foto" src="../mantenimientos/static/resources/iconos_barra/cocina-green.png">
        <p class="side-option">Cocina/Bar</p>
      </a>
      </div>
      <div class="reserv">
        <a class="side" href="">
        <img class="side-foto" src="../mantenimientos/static/resources/iconos_barra/reservas-green.png">
        <p class="side-option">Reservas</p>
      </a>
      </div>
    </div>
    <div class="maintenance-content">

      <!-- ESTE ES EL SIDEBAR-->
      <!--SECCION PRINCIPAL DEL PROGRAMA-->
      <div class="principal-pag1">

        <!--TITULO-->

        <!--CONTENEDOR DE LOS BOTONES PRINCIPALES-->

        <div class="container-botones-principales">
          <h1>Mantenimiento</h1>
          <a href="/mantenimientos/Pagina_contacto.ejs">
            <div class="card" id="">
            <i class="fas fa-user"></i>
            </div>
          </a>
          <a href="/mantenimientos/Pagina_reportes.ejs">
          <div class="card" id="">
            <i class="fas fa-envelope"></i>
          </div>
          </a>
        </div>

        <!--CONTENEDOR DEL HISTORIAL-->
        <div class="container">
          <div class="container-historial">
            <div class="left-section">
              <h2 class="historial-tittle">Historial de Mantenimiento</h2>
              <div class="scroll-table">
                <table>
                  <tr>
                    <th>Mantenimiento</th>
                    <th>Responsable</th>
                    <th>Inicio</th>
                    <th>Fin</th>
                  </tr>
                  <tr>
                  </tr>
                </table>
                <a href="/mantenimientos/Pagina_agregarMantenimiento">
                  <button class="button" >Agendar Mantenimiento</button>
                </a>
              </div>
            </div>
          </div>

          <script src="https://kit.fontawesome.com/your-fontawesome-kit-id.js" crossorigin="anonymous"></script>
          <script src="../mantenimientos/static/scripts/Conexion_pagina.js"></script>


          <!--Fuente por internet?-->
          <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
            integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
            crossorigin="anonymous"></script>
          <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
            integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
            crossorigin="anonymous"></script>

          <script type="module">

            //Agregar ruta completa ej: http://localhost:1234/api/mantenimientos_realizar
            fetch('http://localhost:1234/api/mantenimientos_realizar', {
              method: 'GET',
              headers: {
                'Content-Type': 'application/json'
              }
            })
              .then(res => res.json())
              .then(data => {
                const html = data.map(x => {
                  return `
                      <td>${x.responsable}</td>
                      <td>${x.fecha_inicio}</td>
                      <td>${x.descripcion_corta}</td>
                      <td>${x.fecha_final}</td>
                  `
                })

                document.getElementById('detalles').innerHTML = html;
              })
          </script>


        </div>
      </div>
    </div>
</body>

</html>